<!DOCTYPE html>
<html>
<head>
<title>Forminator</title>

<style>
    body {
       font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
       font-weight: 300;
    }

    .crud-help {
        color: red;
    }

    .success {
        color: green;
    }
</style>

</head>

<body>

<h1>Forminator</h1>
<hr/>

<div id="Thing-forminator"></div>

<script src="../lib/jquery-1.10.2.js"></script>
<script src="../lib/mustache.js"></script>

<!-- <script src="../src/lib.js"></script>
<script src="../src/model/base.js"></script>
<script src="../src/model/forminator.js"></script>
<script src="../src/view/base.js"></script>
<script src="../src/view/forminator.js"></script>
<script src="../src/controller/base.js"></script>
<script src="../src/controller/forminator.js"></script>
<script src="../src/crud.js"></script> -->

<script src="../crud.js"></script>

<script>
$(document).ready(function () {
    'use strict';

    var forminator = CRUD.forminator({
        name: 'Thing',
        url: '../crud_form.php',
        validate: function (data) {
            var error = {};
            if(data.text.length < 3) {
                error.text = '3 character minimum';
            }
            return error;
        },
        schema: [
            {
                name: 'text',
                label: 'label yo',
                type: 'text',
                value: 'default'
            },
            {
                name: 'textarea',
                type: 'textarea'
            },
            {
                name: 'fruit',
                type: 'checkbox',
                values: [
                    { value: 'apple', label: 'La Pomme' },
                    { value: 'orange', label: 'L\'Orange' }
                ],
                value: ['orange']
            },
            {
                name: 'letter',
                type: 'radio',
                values: [
                    { value: 'a', label: 'A' },
                    { value: 'b' },
                    { value: 'c' },
                    { value: 'd', label: 'D' }
                ],
                value: 'b'
            },
            {
                name: 'awesome',
                type: 'select',
                values: [
                    { value: '1', label: 'One' },
                    { value: '2', label: 'Two' },
                    { value: '3', label: 'Three' }
                ]
            }
        ]
    });

    //Events.  Can Subscribe to forminator events
    var logPubSub = function (message) {
        forminator.subscribe(message, function (data) {
            console.log('subscribe:' + message, data);
        });
    };
    //forminator uses templates to rerender the html whenever changes occur.
    //Therefore, if you are using a datepicker for example, you will need to rebind
    //these elements to the dom at every bind event.
    logPubSub('bind');
    //fired at the start of an ajax event
    logPubSub('waiting:start');
    //fired at the completion of an ajax event (success or failure)
    logPubSub('waiting:end');
});
</script>
</body>
</html>
